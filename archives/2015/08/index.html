<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>彙整：2015/8 | Pages of Ply_py</title>
  <meta name="author" content="Weihua Cheung">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Pages of Ply_py"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Pages of Ply_py" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Pages of Ply_py</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2015/8</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-08-12T02:59:42.000Z"><a href="/2015/08/12/The-First-Ping/">Aug 12 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/08/12/The-First-Ping/">The First Ping</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Few days ago I decided to write a basic PING program to practice my C programing skills and network stuff. And it turns out to be a 2 days work, I really have tasted the difficulities of C programing after I spent hours on location bugs of operator priority and wrongly regarding pointer as struct. Actually by retrospection, apart from these stupid mistakes, this work is not very hard. It’s just that so many new concepts need to be learnt first.</p>
<p>The PING program, as <a href="https://en.wikipedia.org/wiki/Ping_(networking_utility)" target="_blank" rel="external">wiki</a> says,is used to measure the round trip time(RTT) of remote and local machines for network diagnosis purpose. This <a href="http://www.ping127001.com/pingpage.htm" target="_blank" rel="external">page</a> vividly describes what it does and how it came out.</p>
<p>Basically PING runs on ICMP protocol which belongs to IP protocol family. And it utilizes the ECHO REQUEST, which by definition will trigger the remote to send back a ECHO REPLY packet that carries the exactly same payload sent, packet to measure the RTT. Usually it’s achieved by using the current time as the payload and perform a substraction when we got the reply.</p>
<p>So to implement it, basic understandings of ICMP and Socket are certainly necessary. And most time I spent is to understand them. As I had not gotten a book around, I found a few example sources and studied by researching them. Though I can guess some lines of code literally, it indeed costed me lots of time to study the structs and constants used. If not counting these things, things were fine, I just need to create a right address and find the right protocol then assign them to a raw socket, and then set the proper header like checksum, send it and receive it at last.</p>
<p>C programming requires siginificant patience and carefulness.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-08-09T13:03:59.000Z"><a href="/2015/08/09/GSoC-2015-Week11/">Aug 9 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/08/09/GSoC-2015-Week11/">GSoC 2015 Week11</a></h1>
  

    </header>
    <div class="entry">
      
        <p>GSoC 2015 is about to the end. I’ve been working mainly on things that fix small issues now.</p>
<p>This week I managed to add Travis-CI support, which is commonly used free Continuous Integration services platform, to our project. It will provide you a VM for testing, where you need to provide scripts, .travis.yml, to set up the envrionment. For Dashboard, I need to get the OpenLDAP stuff and Mongo installed. This is where things are getting a little tricky as OpenLDAP installation requires some interactions. Luckily enough, I found out that I can set envrionment variable <code>DEBIANFRONTEND=noninteractive</code> to disable shell interactions, as we can configure it via configuration files later anyway.</p>
<p>My travis works are placed in this <a href="https://github.com/Plypy/openmrs-id-travis-test" target="_blank" rel="external">repo</a> specifically created for testing.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-08-01T15:08:21.000Z"><a href="/2015/08/01/GSoC-2015-Week10/">Aug 1 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/08/01/GSoC-2015-Week10/">GSoC 2015 Week10</a></h1>
  

    </header>
    <div class="entry">
      
        <p>This is just another week about bug-fixing and html template convertion, same trivial stuff like usual.</p>
<p>I was mainly working on getting <code>OAuth</code> module updated, during which I found out that I’ve made a bunch of big mistakes last year and my code wasn’t deployed… It took a lot of time for me to review the OAuth2 protocol and the packages we were using. I kind of just rewrote what Elliott had written in another superficially different style without thorough understanding of the tools and protocol I was using that time, and hence bugs were left. It was all the fault of laziness and should be prevented in future.</p>
<p>Anyway, the logic has been rewrittened with more careful examination and a functional test, which utilizes <code>request</code> to imitate HTTP requests and <code>cheerio</code> to manipulate HTML document in server side, has been added.</p>
<h4 id="A_Severe_Potential_Bug">A Severe Potential Bug</h4><p>While I was doing the testing, I found out a potential danger of <code>Mongoose</code> searching. Usaully we do searching like <code>Model.find(conditions)</code> where <code>conditions</code> is a <code>Object</code> containing (key: value) pairs that we want our documents to match. However, if some value is <code>undefined</code>, that pair will be ignored. </p>
<p>A very bad example:</p>
<p>I want to search <code>{foo: bar}</code>, however, as <code>bar</code> is <code>undefined</code> it turns into <code>Model.find({})</code>, which will return every existing document of that collection.</p>
<p>What a terrible thing! You can’t be careful enough to do the DB querys, and I’m filtering the Dashboard now. There is better none of this potential vulnerabilities.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜尋">
    <input type="hidden" name="q" value="site:pages.plypy.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分類</h3>
  <ul class="entry">
  
    <li><a href="/categories/Fun/">Fun</a><small>1</small></li>
  
    <li><a href="/categories/GSoC2014/">GSoC2014</a><small>16</small></li>
  
    <li><a href="/categories/GSoC2015/">GSoC2015</a><small>12</small></li>
  
    <li><a href="/categories/LerningNotes/">LerningNotes</a><small>5</small></li>
  
    <li><a href="/categories/algorithm/">algorithm</a><small>1</small></li>
  
    <li><a href="/categories/life/">life</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">標籤</h3>
  <ul class="entry">
  
    <li><a href="/tags/CF/">CF</a><small>1</small></li>
  
    <li><a href="/tags/GSoC2014/">GSoC2014</a><small>16</small></li>
  
    <li><a href="/tags/GSoC2015/">GSoC2015</a><small>12</small></li>
  
    <li><a href="/tags/Linux-Kernel-Compiling/">Linux Kernel Compiling</a><small>3</small></li>
  
    <li><a href="/tags/MongoDB/">MongoDB</a><small>2</small></li>
  
    <li><a href="/tags/Mongoose/">Mongoose</a><small>1</small></li>
  
    <li><a href="/tags/Node-js/">Node.js</a><small>1</small></li>
  
    <li><a href="/tags/OpenLDAP/">OpenLDAP</a><small>1</small></li>
  
    <li><a href="/tags/Shithole/">Shithole</a><small>1</small></li>
  
    <li><a href="/tags/Test/">Test</a><small>1</small></li>
  
    <li><a href="/tags/VHDL/">VHDL</a><small>1</small></li>
  
    <li><a href="/tags/VirtualBox/">VirtualBox</a><small>1</small></li>
  
    <li><a href="/tags/Weekly-Blog/">Weekly-Blog</a><small>25</small></li>
  
    <li><a href="/tags/assembly/">assembly</a><small>1</small></li>
  
    <li><a href="/tags/auth/">auth</a><small>1</small></li>
  
    <li><a href="/tags/editorial/">editorial</a><small>1</small></li>
  
    <li><a href="/tags/emacs/">emacs</a><small>1</small></li>
  
    <li><a href="/tags/exports/">exports</a><small>1</small></li>
  
    <li><a href="/tags/fork/">fork</a><small>1</small></li>
  
    <li><a href="/tags/games/">games</a><small>1</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>1</small></li>
  
    <li><a href="/tags/network/">network</a><small>1</small></li>
  
    <li><a href="/tags/ping/">ping</a><small>1</small></li>
  
    <li><a href="/tags/pipe/">pipe</a><small>1</small></li>
  
    <li><a href="/tags/rasberry-pi/">rasberry-pi</a><small>1</small></li>
  
    <li><a href="/tags/signal/">signal</a><small>1</small></li>
  
    <li><a href="/tags/socket/">socket</a><small>1</small></li>
  
    <li><a href="/tags/unique-index/">unique-index</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 Weihua Cheung
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'plypy';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>